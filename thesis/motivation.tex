\section{Privilege separation}
\label{sec:PriviSep}

\section{Privilege escalation attacks}
\label{sec:Escalation}

\section{Chrome extension architecture overview}
\label{sec:ExtOverview}
Chrome by Google, as all actual-days browsers, provides a powerful extension framework. This gives to developers a huge architecture made explicitly to extend the core browser potentiality in order to build small programs that enhance user-experience. In Chrome web store there are lot of extensions with very various behaviors like security enhancers, theme changers, organizers or other utilities, multimedia visualizer, games and others. For example, AdBlock (one of the top downloaded) is an extension made to block all ads on websites; ShareMeNot "protects the user against being tracked from third-party social media buttons while still allowing it to use them"\cite{ShareMeNot}. As we can notice extensions have different purposes, and many of them has to interact massively with web pages. This creates a very large attack surface for attackers and is a big threat for the user. Moreover many extensions are written by developers that are not security experts so, even if their behavior is not malign, the bugs that can appear in them can be easily exploited by attackers.

To mitigate this threat, as deeply discussed in \cite{ChromeExtSpec}, the extension framework is built to force programmers to adopt privilege separation, least privilege and strong isolation. Privilege separation, as explained before in \ref{sec:PriviSep}, force the developer to split the application in components providing for the communication a message passing interface; least privilege gives to the app the least set of permission needed through the execution of the extension and the strong isolation separate the heaps of the various components of the extension running them in different processes in order to block any possible escalation and direct delegation.

More specifically, Google Chrome extension framework \cite{ChromeExtensionOnline} splits the extension in two sets components: content scripts and background pages. The content scripts are injected in every page on which the extension is running using the same origin; they run with no privileges except the one used to send messages to the background and they cannot exchange pointers with the page except to the standard field of the DOM. Background pages, instead, have only one instance for each extension, are totally separated from the opened pages, have the full set of privilege granted at install time and, if it is allowed from the manifest, they can inject new content scripts to pages, but they can communicate with the content scripts only via message passing.

%\section{Chrome extension architecture weaknesses}
%\label{sec:ExtWeakness}



\section{Proposal} 
\label{sec:Proposal} 
\todo[inline]{titolare meglio... tipo our work...}
In this work do a study on Chrome Extensions identifying a possible weakness. We write a calcolus 
